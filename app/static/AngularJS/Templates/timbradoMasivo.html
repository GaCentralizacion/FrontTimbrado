<div ng-init="init()">
    <div id="page-title">
        <!-- <div id="page-content">
            <div class="panel"> -->
        <div class="ibox float-e-margins">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-3">
                        <div class="form-group">
                            <label class="form-label">Año:</label>
                            <select  class="form-control" ng-model="selectedAnio" ng-options="anio.yearNomina for anio in lstAnios"
                            ng-change="ObtieneFechasPagas()">
                            <option value="">Seleccione Año</option>
                          </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label class="form-label">Mes:</label>
                            <select class="form-control" ng-model="selectedMes" ng-options="mes.id as mes.text for mes in lstMeses"
                            ng-change="ObtieneFechasPagas()">
                            <option value="">Seleccione Mes</option>
                          </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label class="form-label">Fecha Paga:</label>
                            <select class="form-control" ng-model="fechaPagaSelected" ng-options="fPaga as fPaga.paga for fPaga in lstQuincenas">
                            <option value="">Seleccione Fecha Paga</option>
                          </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label class="form-label"></label>
                            <div   style="padding:5px; overflow: hidden;">
                                <button ng-disabled= "buscando" class="btn btn-primary" ng-click="consultaTimbresEmpresa()">Buscar</button>
                            </div>
                        </div>
                    </div>
                </div>
    
            </div>

        </div>
        <div class="row">
            <div  class="col-sm-9"> 
            <div ng-show="verAvance"> 
                <div id="catalogoProgressBar" class="progress">
                    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
                </div> 
            </div>
            <div ng-show="verGrid" class="ibox-content">
                <div class="row">
                    <br>
                    <div class="col-sm-12">
                        <div>
                            <br>
    
                            <div class="row">
                                <div class="col-sm-12" name="todo">
                                    <table id="tblSucursales" class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Timbrar</th> 
                                                <th>Empresa</th>
                                                <th>Sucursal</th>
                                                <th>Cantidad</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="suc in ltsTimbradoSucursal">
                                                <td style="text-align: center;">
                                                    <input type="checkbox" ng-model="suc.check" ng-checked="{{suc.check}}">
                                                </td>
                                                <td style="font-family: sans-serif !important">{{suc.empresa}}</td>
                                                <td style="font-family: sans-serif !important">{{suc.sucursal}}</td>
                                                <td style="font-family: sans-serif !important">{{suc.cantidad}}</td>
                                                <!-- <td></td> -->
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div  class="col-sm-10"></div>
                                    <div  class="col-sm-2">
                                    <div   style="padding:5px; overflow: hidden;">
                                        <button ng-disabled="bloqueotimbrado" class="btn btn-primary" ng-click="TimbradoMasivo()">Timbrar</button>
                                    </div>
                                    </div>
                                    <div  class="col-sm-2">
                                        <div   style="padding:5px; overflow: hidden;">
                                            <button class="btn btn-primary" ng-click="Correo()">Correo</button>
                                        </div>
                                    </div> 
                                </div>
                            </div>
                            <!-- tabla lotes no Aplicado  FIN-->
                        </div>
                    </div>
                </div>
                <!-- div tabs end -->
            </div>   
            </div>
            <div  class="col-sm-3">
                <div class="panel " ng-show="procesando " style="border-color:#004E8C ">
                    <div class="panel-heading " style="background: #004E8C;color: white ">
                            {{mensajePanel}}
                    </div>
                        <div class="panel-body ">
                            <label>Empresa: </label> {{NombreEmpresa}}<br/> 
                            <label>Periodo: </label> {{NombreNomina}}
                            <div class="progress progress-striped active " ng-show="mostrarEstado == true">
                                <div style="width: {{porcentaje}}% " aria-valuemax="100 " aria-valuemin="0 " aria-valuenow="75 " role="progressbar " class="progress-bar progress-bar-sucess ">
                                    <span class="sr-only "></span> {{porcentaje | number:2}}%
                                </div>
                            </div>
                            <div ng-show="mostrarEstado == false">Timbrado Terminado </div>
                            <div ng-show="mostrarEstado == true">{{datosPendientes[0].timbrados + datosPendientes[0].timbradoError}} <label> xml de  </label> {{documentosTotales}} </div><br/>
                            <label>Tipo de Nomina:</label> {{TipoDescripcion}} <br/>
                            <!-- <label>Tiempo transcurrido: </label> <span id="minutos">0</span>:<span id="segundos">0</span><br/> -->
                            <label>Documentos timbrados: </label> {{DocumentosAceptados}}<br/>
                            <label>Documentos no timbrados: </label> {{documentosErroneos}}
                        </div>
                </div>    
            </div>   
        </div>
      
      

    </div>

</div>
